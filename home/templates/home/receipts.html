{% extends "home/base.html"%}
{%load static%}

{% block hauptinhalt %}
    <div class="col py-3">
        
        <h1>Belege</h1>
        <p></p>
        <div class="modal fade" id="editmodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Bearbeiten</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form action="" name="editInWindow" method="POST">
                    <div class="modal-body">
                        <input type="hidden" name="update_id" id="update_id">
                        <br />
                        <div class="form-group">
                            <label> Belegnummer </label>
                            <p></p>
                            {{form.belegnummer}}
                        </div>
                        <br />
                        <div class="form-group">
                            <label> Belegdatum </label>
                            <p></p>
                            {{form.belegdatum}}
                        </div>
                        <br />
                        <div class="form-group">
                            <label> Zahlart </label>
                            {{form.zahlart}}
                        </div>
                        <br />
                        <div class="form-group">
                            <label> Fälligkeit </label>
                            {{form.faelligkeit}}
                        </div>
                        <br />
                        <div class="form-group">
                            <label> Betrag </label>
                            <p></p>
                            {{form.betrag}}
                        </div>
                        <br />
                        <div class="form-group">
                            <label> Beschreibung </label>
                            <p></p>
                            {{form.beschreibung}}
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Schließen</button>
                        <button type="submit" name="updatedata" class="btn btn-primary">Speichern</button>
                    </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table table-bordered table-hover table-striped">
            <thead>
                <tr>
                    <th>Belegnummer</th>
                    <th>Belegdatum</th>
                    <th>Zahlart</th>
                    <th>Fälligkeit</th>
                    <th>Betrag</th>
                    <th>Beschreibung</th>
                    <th>Bearbeiten</th>	
                </tr>
            </thead>
            <tbody>
            {% if all_receipts_dict  %}
        
                
                {% for receipt in all_receipts_dict %}
                <tr>
                    <td>{{receipt.belegnummer}}</td>
                    <td>{{receipt.belegdatum }}</td>
                    <td>{{receipt.zahlart}}</td>
                    <td>{{receipt.faelligkeit}}</td>
                    <td>{{receipt.betrag}}</td>
                    <td>{{receipt.beschreibung}}</td>
                    <form action="" method="get"></form>
                    <td><button name="edit" value={{receipt.belegnummer}} type="submit" class="btn btn-success editbtn" data-toogle="editmodal" data-target="editmodal">Bearbeiten</button></td>
                </tr>
                {% endfor %}
                </tbody>
                
            
            {% else %} 
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
            {% endif %}
        </table>
        </div>
        
        <a href="{% url 'edit:editReceipts'%}" class="btn btn-primary">Beleg hinzufügen</a>
    </div>
    
{% endblock hauptinhalt %}